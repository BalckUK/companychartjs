<html lang="en">
    <script id="youtube-hd-fjdmkanbdloodhegphphhklnjfngoffa">
        var ythdlog = () => {};;
        var ythderror = () => {};
    </script>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>HALO File</title>
        <meta name="description" content="LIME MEETING MANAGEMENT SYSTEM">
        <meta name="author" content="LIMESNC">
        <meta
            name="viewport"
            content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <!-- Favicon -->
        <link rel="shortcut icon" href="/halo/img/halo_favicon.ico">
        <!-- CSS -->
        <link rel="stylesheet" href="/halo/css/fa.css">
        <link rel="stylesheet" href="/halo/css/jquery-ui.css">
        <link rel="stylesheet" href="/halo/css/common.css">
        <link rel="stylesheet" href="/halo/css/halo.css">
        <!-- script -->
        <script type="text/javascript" src="/halo/js/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="/halo/js/jquery-ui.js"></script>
        <script type="text/javascript" src="/halo/js/common.js"></script>
        <!-- <script type="text/javascript" src="/halo/js/chart.js"></script> -->
        <!-- <script type="text/javascript"
        src="/halo/js/chartjs-plugin-datalabels.js"></script> -->
        <script type="text/javascript" src="/halo/js/chart.3.7.0.js"></script>
        <script
            type="text/javascript"
            src="/halo/js/chartjs-adapter-date-fns.bundle.min.js"></script>
    </head>

    <body class="page" id="stat" cz-shortcut-listen="true">
        <div id="header">
            <section>
                <div class="ciTit">
                    <div class="ci"></div>
                    <div class="tit">HALO SENSOR DASHBOARD</div>
                    <div class="option">
                        <span class="datetime">2022.12.31 월 10:41</span>
                        <button class="btnExpand" title="전체화면"></button>
                        <button class="btnContract" title="화면축소" style="display:none"></button>
                    </div>
                </div>
                <ul>
                    <li class="home" onclick="location.href='home.htm'" title="대시보드">
                        <div class="icon"></div>
                        <div class="menuTit">대시보드</div>
                    </li>
                    <li class="history" onclick="location.href='history.htm'" title="감지이력">
                        <div class="icon"></div>
                        <div class="menuTit">감지이력</div>
                    </li>
                    <li class="stat" onclick="location.href='statistics1.htm'" title="감지통계">
                        <div class="icon"></div>
                        <div class="menuTit">통 계</div>
                    </li>
                    <li class="setting" onclick="location.href='setting1.htm'" title="설정관리">
                        <div class="icon"></div>
                        <div class="menuTit">설정관리</div>
                    </li>
                    <li class="user" onclick="location.href='user.htm'" title="사용자관리">
                        <div class="icon"></div>
                        <div class="menuTit">사용자관리</div>
                    </li>
                    <li class="logout" onclick="location.href='index.htm'" title="로그아웃">
                        <div class="icon"></div>
                        <div class="menuTit">
                            <span>홍길동</span></div>
                    </li>
                </ul>
            </section>

            <script>
                // 전체화면으로 확대 축소
                var docV = document.documentElement;
                $(".btnExpand").click(function () {
                    if (docV.requestFullscreen) 
                        docV.requestFullscreen();
                    else if (docV.webkitRequestFullscreen) // Chrome, Safari (webkit)
                        docV.webkitRequestFullscreen();
                    else if (docV.mozRequestFullScreen) // Firefox
                        docV.mozRequestFullScreen();
                    else if (docV.msRequestFullscreen) // IE or Edge
                        docV.msRequestFullscreen();
                    $(this).hide();
                    $(".ciTit .btnContract").show();
                })
                $(".btnContract").click(function () {
                    if (document.exitFullscreen) 
                        document.exitFullscreen();
                    else if (document.webkitExitFullscreen) // Chrome, Safari (webkit)
                        document.webkitExitFullscreen();
                    else if (document.mozCancelFullScreen) // Firefox
                        document.mozCancelFullScreen();
                    else if (document.msExitFullscreen) // IE or Edge
                        document.msExitFullscreen();
                    $(this).hide();
                    $(".ciTit .btnExpand").show();
                })
            </script>
        </div>
        <div class="contentBox">
            <div class="aside"></div>
            <div class="content flex-direction-column">
                <section class="titSection">
                    <div class="pageTit">통 계 - 기간내 시간대별 발생분포</div>
                    <!-- <div class="ment">각 테마 별, 감지발생 시간대를 조회합니다.</div> -->
                </section>
                <ul class="tabMenuSection">
                    <li onclick="location.href='statistics1.htm'">일별 감지 추이</li>
                    <li onclick="location.href='statistics2.htm'">감지 테마별 블랙리스트</li>
                    <li class="active" onclick="location.href='statistics3.htm'">기간내 시간대별 발생분포</li>
                </ul>
                <section class="srchSection">
                    <div class="row">
                        <div class="item">기간</div>
                        <div class="answer">
                            <select id="" class="input-md">
                                <option>직접입력</option>
                                <option>1분기</option>
                                <option>2분기</option>
                                <option>3분기</option>
                                <option>4분기</option>
                                <option>상반기</option>
                                <option>하반기</option>
                                <option>년간</option>
                            </select>
                            <div class="period input-md">
                                <input type="text" id="" name="" class="br">
                                <div class="point"></div>
                                <input type="text" id="" name="" class="br">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="item">센서</div>
                        <div class="answer">
                            <select class="input-md">
                                <option>건물 선택</option>
                                <option>본관</option>
                                <option>별관</option>
                                <option>IT동</option>
                            </select>
                            <select class="input-md">
                                <option>층 선택</option>
                                <option>2층</option>
                                <option>1층</option>
                                <option>지하1층</option>
                                <option>지하2층</option>
                            </select>
                            <select class="input-md">
                                <option>장소 선택</option>
                                <option>중앙로비</option>
                                <option>남측 남자화장실</option>
                                <option>대회의실</option>
                                <option>탕비실</option>
                            </select>
                        </div>
                    </div>
                    <div class="btnDiv">
                        <button class="btn btn-blue btn-md">조 회</button>
                        <button class="btn btn-silver btn-md">초기화</button>
                        <div class="btnGap"></div>
                        <button class="btn btn-blue-border btn-md">다운로드</button>
                    </div>
                </section>
                <section class="graphSection tab3">

                    <article>
                        <div class="titDiv">
                            <div class="tit">
                                <span>2022.01.01 ~ 2022.01.15</span>
                                <span>본관</span>
                                <span>3층</span>
                                <span>대회의실</span>
                                시간대별 발생분포
                            </div>
                            <div class="option">
                                <label for="t1" class="t1"><input
                                    type="checkbox"
                                    id="t1"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="air"
                                    value="0">공기질</label>
                                <label for="t2" class="t2"><input
                                    type="checkbox"
                                    id="t2"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="health"
                                    value="1">건강지수</label>
                                <label for="t3" class="t3"><input
                                    type="checkbox"
                                    id="t3"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="env"
                                    value="2">환경</label>
                                <label for="t4" class="t4"><input
                                    type="checkbox"
                                    id="t4"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="gas"
                                    value="3">유해가스</label>
                                <label for="t5" class="t5"><input
                                    type="checkbox"
                                    id="t5"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="vape"
                                    value="4">흡연</label>
                                <label for="t6" class="t6"><input
                                    type="checkbox"
                                    id="t6"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="safety"
                                    value="5">안전</label>
                                <label for="t7" class="t7"><input
                                    type="checkbox"
                                    id="t7"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="noise"
                                    value="6">소음</label>
                                <label for="t8" class="t8"><input
                                    type="checkbox"
                                    id="t8"
                                    onclick="updateChart(this)"
                                    checked="checked"
                                    name="invasion"
                                    value="7">침입</label>
                            </div>
                        </div>
                        <div class="canvasDiv">
                            <canvas
                                id="myChartB"
                                class="chartjs-render-monitor"
                                width="938"
                                height="567"
                                style="display: block; box-sizing: border-box; height: 567px; width: 938px;"></canvas>
                        </div>
                    </article>
                </section>
            </div>
        </div>

        <script type="text/javascript">

            const data = {
                datasets: [
                    {
                        label: '공기질', // radial 값은 공기질 6단계의 단계 수치 X3
                        data: [
                            {
                                x: '2022-04-01',
                                y: 34213312,
                                r: 18
                            }, {
                                x: '2022-04-02',
                                y: 12,
                                r: 15
                            }, {
                                x: '2022-04-03',
                                y: 12,
                                r: 9
                            }, {
                                x: '2022-04-04',
                                y: 12,
                                r: 6
                            }, {
                                x: '2022-04-05',
                                y: 12,
                                r: 3
                            }, {
                                x: '2022-04-06',
                                y: 12,
                                r: 3
                            }, {
                                x: '2022-04-07',
                                y: 20,
                                r: 9
                            }, {
                                x: '2022-04-08',
                                y: 20,
                                r: 3
                            }, {
                                x: '2022-04-09',
                                y: 20,
                                r: 12
                            }, {
                                x: '2022-04-10',
                                y: 20,
                                r: 3
                            }, {
                                x: '2022-04-11',
                                y: 20,
                                r: 3
                            }, {
                                x: '2022-04-12',
                                y: 20,
                                r: 3
                            }, {
                                x: '2022-04-13',
                                y: 20,
                                r: 6
                            }, {
                                x: '2022-04-14',
                                y: 20,
                                r: 3
                            }, {
                                x: '2022-04-15',
                                y: 20,
                                r: 9
                            }
                        ],
                        borderWidth: 1,
                        borderColor: '#ff0700',
                        pointBackgroundColor: '#ff070044'
                    },
                    /*
                {
                    label: '건강지수', // radial 값은 건강지수 5단계의 단계 수치 X3
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:6},
                        {x:'2022-04-02',  y:'20:00', r:6},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:6},
                        {x:'2022-04-05',  y:'05:00', r:9},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:9},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:10},
                        {x:'2022-04-10',  y:'21:00', r:10},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:6},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:9},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#ff7100',
                    pointBackgroundColor:'#ff710044',
                },
                {
                    label: '환경',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#ffc100',
                    pointBackgroundColor:'#ffc10044',
                },
                {
                    label: '유해가스',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#38ab00',
                    pointBackgroundColor:'#38ab0044',
                },
                {
                    label: '흡연',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#007af3',
                    pointBackgroundColor:'#007af344',
                },
                {
                    label: '안전',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#3438ff',
                    pointBackgroundColor:'#3438ff44',
                },
                {
                    label: '소음',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#a300f3',
                    pointBackgroundColor:'#a300f344',
                },

                {
                    label: '침입',
                    data: [
                        {x:'2022-04-01',  y:'23:34', r:3},
                        {x:'2022-04-02',  y:'20:00', r:3},
                        {x:'2022-04-03',  y:'01:00', r:3},
                        {x:'2022-04-04',  y:'03:00', r:3},
                        {x:'2022-04-05',  y:'05:00', r:3},
                        {x:'2022-04-06',  y:'03:00', r:3},
                        {x:'2022-04-07',  y:'12:00', r:3},
                        {x:'2022-04-08',  y:'17:00', r:3},
                        {x:'2022-04-09',  y:'18:00', r:3},
                        {x:'2022-04-10',  y:'21:00', r:3},
                        {x:'2022-04-11',  y:'22:00', r:3},
                        {x:'2022-04-12',  y:'17:00', r:3},
                        {x:'2022-04-13',  y:'13:00', r:3},
                        {x:'2022-04-14',  y:'19:00', r:3},
                        {x:'2022-04-15',  y:'20:00', r:3},
                    ],
                    borderWidth: 1,
                    borderColor:'#999999',
                    pointBackgroundColor:'#99999944',
                }
               */
                ]
            };
            const config = {
                type: 'bubble',
                data: data,
                bounds : 'ticks',
                options: {
                    scales: {
                        x: {
                            type: 'time',
                            time: {
                                unit: 'day'
                            }
                        },
                        y: {
                            parsing: false,
                            type: 'time',
                            ticks: {
                                source: data
                            },
                            time: {
                                minUnit: 'hour',
                                displayFormats: {
                                    hour: 'h:mm a'
                                }
                            }
                        }
                    }
                }
            };
            const myChart = new Chart(document.getElementById('myChartB'), config);

            function updateChart(data) {
                // console.log(data.value);
                const isDataShown = myChart.isDatasetVisible(data.value);
                console.log(isDataShown);
                if (isDataShown === false) {
                    console.log('data is not shown');
                    myChart.show(data.value)
                }
                if (isDataShown === true) {
                    console.log('data is shown');
                    myChart.hide(data.value)
                }
            };
        </script>
    </body>
</html>